generator client {
  provider = "prisma-client"
  output   = "../lib/generated/prisma/client"
}

datasource db {
  provider = "postgresql"
}

model User {
  id             Int             @id @default(autoincrement())
  email          String          @unique
  password       String
  role           UserRole
  brandProfile   BrandProfile?
  creatorProfile CreatorProfile?
  createdAt      DateTime        @default(now())

  @@index([email])
}

model BrandProfile {
  id           Int              @id @default(autoincrement())
  userId       Int              @unique
  user         User             @relation(fields: [userId], references: [id])
  name         String
  slug         String           @unique
  description  String?
  industry     IndustryCategory @default(OTHER)
  websiteUrl   String?
  contactEmail String?
  verified     Boolean          @default(false)

  createdAt DateTime  @default(now())
  updatedAt DateTime? @updatedAt
}

model CreatorProfile {
  id        Int               @id @default(autoincrement())
  userId    Int               @unique
  user      User              @relation(fields: [userId], references: [id])
  name      String
  slug      String            @unique
  bio       String?
  niche     CreatorNiche
  platforms CreatorPlatform[]
  createdAt DateTime          @default(now())
  updatedAt DateTime          @updatedAt
}

model CreatorPlatform {
  id        Int            @id @default(autoincrement())
  creatorId Int
  creator   CreatorProfile @relation(fields: [creatorId], references: [id])
  platform  PlatformType
  username  String
  url       String
  followers Int
  createdAt DateTime       @default(now())
  updatedAt DateTime       @updatedAt
}

enum UserRole {
  BRAND
  CREATOR
  ADMIN
}

enum IndustryCategory {
  TECHNOLOGY
  CONSUMER_GOODS
  FOOD_AND_HEALTH
  ENTERTAINMENT
  TRAVEL_AND_HOSPITALITY
  FINANCE
  AUTOMOTIVE
  EDUCATION
  REAL_ESTATE
  PARENTING
  OTHER
}

enum CreatorNiche {
  FASHION
  BEAUTY
  TECH
  GAMING
  FITNESS
  LIFESTYLE
  FOOD
  TRAVEL
  EDUCATION
  OTHER
}

enum PlatformType {
  INSTAGRAM
  YOUTUBE
  TWITTER
  LINKEDIN
  FACEBOOK
  OTHER
}
